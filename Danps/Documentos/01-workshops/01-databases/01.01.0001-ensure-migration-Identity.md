## Exemplo de Seed de Roles e Users

```csharp
using Microsoft.AspNetCore.Identity;
using System.Threading.Tasks;

public static class IdentityDataSeeder
{
    public static async Task SeedUsersAndRolesAsync(
        UserManager<IdentityUser> userManager,
        RoleManager<IdentityRole> roleManager)
    {
        // 1. Criar roles se n칚o existirem
        var roles = new[] { "Instructor", "Admin" };
        foreach (var role in roles)
        {
            if (!await roleManager.RoleExistsAsync(role))
            {
                await roleManager.CreateAsync(new IdentityRole(role));
            }
        }

        // 2. Criar usu치rios de exemplo
        var users = new[]
        {
            new IdentityUser { UserName = "allroles@example.com", Email = "allroles@example.com", EmailConfirmed = true },
            new IdentityUser { UserName = "instructor@example.com", Email = "instructor@example.com", EmailConfirmed = true },
            new IdentityUser { UserName = "admin@example.com", Email = "admin@example.com", EmailConfirmed = true },
            new IdentityUser { UserName = "norole@example.com", Email = "norole@example.com", EmailConfirmed = true }
        };

        // Senha padr칚o para todos
        const string defaultPassword = "Password123!";

        // 3. Criar usu치rios e atribuir roles
        foreach (var user in users)
        {
            var existingUser = await userManager.FindByEmailAsync(user.Email);
            if (existingUser == null)
            {
                await userManager.CreateAsync(user, defaultPassword);
            }
        }

        // 4. Atribuir roles
        var userAllRoles = await userManager.FindByEmailAsync("allroles@example.com");
        await userManager.AddToRolesAsync(userAllRoles, roles);

        var userInstructor = await userManager.FindByEmailAsync("instructor@example.com");
        await userManager.AddToRoleAsync(userInstructor, "Instructor");

        var userAdmin = await userManager.FindByEmailAsync("admin@example.com");
        await userManager.AddToRoleAsync(userAdmin, "Admin");

        // Usu치rio sem role n칚o recebe nada
    }
}
```

---

## Resumo dos Usu치rios Criados

| Usu치rio (Email)          | Roles atribu칤das        |
|---------------------------|-------------------------|
| `allroles@example.com`    | Instructor, Admin       |
| `instructor@example.com`  | Instructor              |
| `admin@example.com`       | Admin                   |
| `norole@example.com`      | *(nenhuma)*             |

---

游녤 Esse c칩digo pode ser chamado no `Program.cs` ou `Startup.cs` ap칩s configurar o Identity:

```csharp
using (var scope = app.Services.CreateScope())
{
    var userManager = scope.ServiceProvider.GetRequiredService<UserManager<IdentityUser>>();
    var roleManager = scope.ServiceProvider.GetRequiredService<RoleManager<IdentityRole>>();
    await IdentityDataSeeder.SeedUsersAndRolesAsync(userManager, roleManager);
}
```

---

